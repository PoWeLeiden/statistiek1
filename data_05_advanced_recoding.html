<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl" xml:lang="nl"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.480">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistische analyse en presentatie met R - 5&nbsp; Geavanceerd hercoderen van variabelen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data_06_merging_data.html" rel="next">
<link href="./data_04_missing_data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Geen resultaten",
    "search-matching-documents-text": "Gevonden documenten",
    "search-copy-link-title": "Kopieer link om te zoeken",
    "search-hide-matches-text": "Extra overeenkomsten verbergen",
    "search-more-match-text": "meer overeenkomst in dit document",
    "search-more-matches-text": "meer overeenkomsten in dit document",
    "search-clear-button-title": "Wissen",
    "search-detached-cancel-button-title": "Annuleren",
    "search-submit-button-title": "Verzenden",
    "search-label": "Zoeken"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./part_working_data.html">Werken met data in R</a></li><li class="breadcrumb-item"><a href="./data_05_advanced_recoding.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geavanceerd hercoderen van variabelen</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistische analyse en presentatie met R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Zoeken"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Voorwoord</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part_working_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Werken met data in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_01_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Werken met R en RStudio: de basis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_02_filtering_selecting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Filteren, selecteren en hernoemen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_03_variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Variabelen maken, samenvatten en hercoderen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_04_missing_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Ontbrekende gegevens</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_05_advanced_recoding.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geavanceerd hercoderen van variabelen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_06_merging_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data combineren</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part_statistical_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistische analyse in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_01_descriptives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Centrum- en spreidingsmaten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_02_graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Grafieken maken met ggplot2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_03_tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tabellen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_04_probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">R en kansrekening</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_05_normal_distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Normaalverdeling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_06_proportions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Inferentie voor proporties</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_07_chi_squared.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Chi-kwadraattoets en associatiematen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_08_t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">T-toets voor het gemiddelde</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_09_power_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Poweranalyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analysis_10_anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">ANOVA</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./common_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Veelgemaakte fouten in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix_formulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Formules Statistiek I</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix_install_all_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Alle packages installeren</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhoudsopgave</h2>
   
  <ul>
  <li><a href="#variabelen-hercoderen-met-case_when" id="toc-variabelen-hercoderen-met-case_when" class="nav-link active" data-scroll-target="#variabelen-hercoderen-met-case_when"><span class="header-section-number">5.1</span> Variabelen hercoderen met case_when</a>
  <ul class="collapse">
  <li><a href="#meervoudige-vergelijkingen" id="toc-meervoudige-vergelijkingen" class="nav-link" data-scroll-target="#meervoudige-vergelijkingen"><span class="header-section-number">5.1.1</span> Meervoudige vergelijkingen</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./part_working_data.html">Werken met data in R</a></li><li class="breadcrumb-item"><a href="./data_05_advanced_recoding.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geavanceerd hercoderen van variabelen</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-data-advanced-recoding" class="quarto-section-identifier"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geavanceerd hercoderen van variabelen</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="variabelen-hercoderen-met-case_when" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="variabelen-hercoderen-met-case_when"><span class="header-section-number">5.1</span> Variabelen hercoderen met case_when</h2>
<p>Vaak moeten we data wijzigen of transformeren op basis van verschillende mogelijke condities. We kunnen dit doen met de <code>case_when()</code> functie uit het <code>dplyr</code> package.</p>
<p>We zullen het gebruik van deze functie illustreren met behulp van een dataset met GPA-cijfers beschikbaar in het <code>openintro</code> package.</p>
<p>Het dataframe bevat de variabelen <code>gpa</code> en <code>study_hours</code> voor een steekproef van 193 studenten die in 2012 een inleidende cursus statistiek volgden aan een particuliere Amerikaanse universiteit. De gegevens zijn hieronder weergegeven als <code>tibble</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openintro) <span class="co"># In dit package is de dataset gpa_study_hours opgenomen</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># Nodig om een tibble te kunnen maken en weergeven</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(gpa_study_hours)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 193 × 2
     gpa study_hours
   &lt;dbl&gt;       &lt;dbl&gt;
 1  4             10
 2  3.8           25
 3  3.93          45
 4  3.4           10
 5  3.2            4
 6  3.52          10
 7  3.68          24
 8  3.4           40
 9  3.7           10
10  3.75          10
# ℹ 183 more rows</code></pre>
</div>
</div>
<p>Stel dat we de numerieke “gpa”-scores willen hercoderen naar een karaktervariabele “grades” die de letter “A” als hoogste cijfer hanteert. Omwille van de eenvoud maken we geen onderscheid in A+, A, A-, enz. maar richten we ons alleen op “hele cijfers” (A, B, C, enz.).</p>
<p>Volgens een gangbare cijferomrekening willen wij dat de uitkomst is: A (GPA tussen 3,7 - 4,0), B (2,7 - 3,3), C (1,7 – 2,3), D (1,0 – 1,3). De letter F als cijfer komt overeen met een 0,0 GPA. Onze hercoderingsregels zijn dus:</p>
<ul>
<li>Als de score groter of gelijk is aan 3,7, transformeren we dit in een “A”.</li>
<li>Anders, als de score groter is dan of gelijk aan (&gt;=) 2,7, een “B” toekennen.</li>
<li>Anders, als de score groter is dan of gelijk is aan (&gt;=) 1.7, geef dan een “C”.</li>
<li>Anders, als de score groter of gelijk is aan (&gt;=) 1.3, geef dan een “D”.</li>
<li>Anders een “F” toekennen</li>
</ul>
<p><code>case_when()</code> werkt door aan twee “kanten” informatie te geven: aan de “linkerkant” staat een conditie en aan de “rechterkant” hebben we de waarde als deze voorwaarde waar is. Beide worden gescheiden door een tilde (<code>~</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(conditie <span class="sc">~</span> waarde)</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Er zijn een aantal belangrijke functies en operatoren die nuttig zijn bij het construeren van de expressies die worden gebruikt om de gegevens te hercoderen:</p>
<ul>
<li><p><code>==</code> betekent “gelijk aan”</p></li>
<li><p><code>!=</code> betekent “niet gelijk aan”.</p></li>
<li><p><code>&lt;</code> betekent “kleiner dan”</p></li>
<li><p><code>&gt;</code> betekent “groter dan”</p></li>
<li><p><code>&lt;=</code> betekent “gelijk aan of kleiner dan”</p></li>
<li><p><code>&gt;=</code> betekent “gelijk aan of groter dan”</p></li>
<li><p><code>&amp;</code> betekent “EN”.</p></li>
<li><p><code>|</code> betekent “OF”.</p></li>
<li><p><code>!</code> betekent “NIET”.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Om <code>case_when()</code> te gebruiken, moeten we R vertellen waar het resultaat moet worden opgeslagen: ofwel door het resultaat toe te wijzen aan de huidige variabele, ofwel door het toe te wijzen aan een nieuwe variabele in onze hercoderingsprocedure. Hiervoor gebruiken we <code>mutate()</code>. Het is erg belangrijk dat je een nieuwe variabele specificeert met <code>mutate()</code> tijdens het hercoderen (of een bestaande variabele die wordt overschreven). Anders weet R niet waar het de nieuwe, hergecodeerde gegevens moet plaatsen.</p>
</div>
</div>
<p>Met behulp van onderstaande code kunnen we het numerieke cijfer hercoderen naar een letter (<em>grade</em>) van A t/m F:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>gpa_study_hours <span class="ot">&lt;-</span> gpa_study_hours <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gpa_grade =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">3.7</span> <span class="sc">~</span> <span class="st">"A"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">2.7</span> <span class="sc">~</span> <span class="st">"B"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">1.7</span> <span class="sc">~</span> <span class="st">"C"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">1.3</span> <span class="sc">~</span> <span class="st">"D"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&lt;</span> <span class="fl">1.3</span> <span class="sc">~</span> <span class="st">"F"</span>))  <span class="co"># Let op de twee haakjes: één om case_when af te sluiten en één om mutate af te sluiten</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>gpa_study_hours</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 193 × 3
     gpa study_hours gpa_grade
   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;    
 1  4             10 A        
 2  3.8           25 A        
 3  3.93          45 A        
 4  3.4           10 B        
 5  3.2            4 B        
 6  3.52          10 B        
 7  3.68          24 B        
 8  3.4           40 B        
 9  3.7           10 A        
10  3.75          10 A        
# ℹ 183 more rows</code></pre>
</div>
</div>
<dl>
<dt><code>gpa_study_hours &lt;-</code></dt>
<dd>
<p>Dit eerste deel van de code zegt dat we het bestaande dataframe <code>gpa_study_hours</code> overschrijven.</p>
</dd>
<dt><code>gpa_study_hours |&gt;</code></dt>
<dd>
<p>Dit deel van de code geeft aan dat we werken met de <code>gpa_study_hours</code> dataset. <code>|&gt;</code> is the <em>pipe operator</em>.</p>
</dd>
<dt><code>mutate(gpa_grade = case_when(</code></dt>
<dd>
<p>Hier creëren we een nieuwe variabele genaamd <code>gpa_grade</code> met behulp van <code>mutate()</code>. De inhoud van de nieuwe variabelen bepalen we met <code>case_when(</code>. Voor je eigen gegevens moet je de naam van de nieuwe variabele veranderen.</p>
</dd>
<dt><code>gpa &gt;= 3.7 ~ "A",</code></dt>
<dd>
<p>Hier beginnen we met het specificeren van onze condities en de bijbehorende waardes. Als de GPA scores (variabele <code>gpa</code>) gelijk is aan of groter dan 3,7, wordt de uitkomstvariabele (<code>gpa_grade</code>) gelijk aan <code>"A"</code> (let op de aanhalingstekens rond de letter).</p>
<p><strong>Noot:</strong> de algemene vorm is dus <code>conditie ~ waarde</code> . Meerdere statements worden gescheiden door een komma.</p>
</dd>
<dt><code>gpa &gt;= 2.7 ~ "B", gpa &gt;= 1.7 ~ "C", gpa &gt;= 1.3 ~ "D",</code></dt>
<dd>
<p>Hier gaan we verder met het specificeren van onze condities en de bijbehorende waarden. Elke nieuwe regel betekent in wezen “en ander als”, d.w.z. anders als <code>gpa</code> gelijk is aan of groter dan 2,7 wijs een <code>"B"</code> toe, anders als <code>gpa</code> gelijk is aan of groter dan 1,7 wijs een <code>"C"</code> toe, enzovoorts.</p>
</dd>
<dt><code>gpa &lt; 1.3 ~ "F"))</code></dt>
<dd>
<p>Ten slotte bepalen wij dat de letter F moet worden toegekend aan alle <code>gpa</code>-waarden kleiner dan 1,3.</p>
</dd>
</dl>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opmerking
</div>
</div>
<div class="callout-body-container callout-body">
<p>Als geen van de bovenstaande condities waar is (bijvoorbeeld als <code>gpa</code> een missende waarde (<code>NA</code>) heeft), dan geeft <code>case_when</code> een missende waarde (<code>NA</code>) voor die casus.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>De <code>case_when()</code> functie is zeer veelzijdig en kan gebruikt worden om verschillende situaties aan te pakken. Het is bijvoorbeeld mogelijk om verschillende statements met elkaar te combineren met behulp van “AND” of “OR” statements. Wie meer wil weten, kan de RDocumentatie van het package bekijken <a href="https://www.rdocumentation.org/packages/dplyr/versions/1.0.10/topics/case_when">hier</a>.</p>
</div>
</div>
<p>We zullen meestal te maken krijgen met het hercoderen van numerieke variabelen of karaktervariabelen. Zorg ervoor dat je aanhalingstekens gebruikt rond karaktervariabelen. Als je bijvoorbeeld de karaktervariabele <code>gpa_grade</code> wilt hercoderen naar een numerieke variabele <code>gpa_num</code> (die de waarden 1, 2, 3, 4, 6 heeft), dan schrijf je:</p>
<div class="cell" data-evaluate="false">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>gpa_study_hours <span class="ot">&lt;-</span> gpa_study_hours <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gpa_num =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    gpa_grade <span class="sc">==</span> <span class="st">"A"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    gpa_grade <span class="sc">==</span> <span class="st">"B"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    gpa_grade <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    gpa_grade <span class="sc">==</span> <span class="st">"D"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    gpa_grade <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">~</span> <span class="dv">6</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<dl>
<dt><code>gpa_study_hours &lt;-</code></dt>
<dd>
<p>Dit eerste deel van de code geeft aan dat we de bestaande dataframe <code>gpa_study_hours</code> overschrijven.</p>
</dd>
<dt><code>gpa_study_hours |&gt;</code></dt>
<dd>
<p>Dit deel van de code geeft aan dat we werken met de <code>gpa_study_hours</code> dataset. <code>|&gt;</code> is the <em>pipe operator</em>.</p>
</dd>
<dt><code>mutate(gpa_num = case_when(</code></dt>
<dd>
<p>Hier creëren we een nieuwe variabele genaamd <code>gpa_num</code> met behulp van <code>mutate()</code>. De inhoud van de nieuwe variabelen bepalen we met <code>case_when(</code>. Voor je eigen gegevens moet je de naam van de nieuwe variabele veranderen.</p>
</dd>
<dt><code>gpa_grade == "A" ~ 1,</code></dt>
<dd>
<p>Hier beginnen we met het specificeren van onze condities en de bijbehorende uitvoerwaarden. Omdat <code>gpa_grade</code> een karaktervariabele is, gebruiken we dubbele aanhalingstekens. Het GPA-cijfer <code>"A"</code> moet worden gehercodeerd in het getal <code>1</code> (zonder aanhalingstekens).</p>
</dd>
<dt><code>gpa_grade == "B" ~ 2,</code> <code>gpa_grade == "C" ~ 3,</code> <code>gpa_grade == "D" ~ 4,</code></dt>
<dd>
<p>Hier gaan we verder met het specificeren van onze condities en bijbehorende waarden.</p>
</dd>
<dt><code>gpa_grade == "F" ~ 6))</code></dt>
<dd>
<p>Tenslotte geven we aan dat het cijfer <code>6</code> moet worden toegekend aan alle waarden met een <code>"F"</code> in <code>gpa_grade</code>.</p>
</dd>
</dl>
<p>Als je een numerieke variabele wilt hercoderen naar een numerieke variabele, gebruik je natuurlijk <strong>geen</strong> aanhalingstekens. Die worden alleen gebruikt als één van de variabelen een tekenvariabele is.</p>
<section id="meervoudige-vergelijkingen" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="meervoudige-vergelijkingen"><span class="header-section-number">5.1.1</span> Meervoudige vergelijkingen</h3>
<p>De voorwaarden gebruikt door <code>case_when</code> kunnen verwijzen naar meerdere variabelen. In het onderstaande voorbeeld willen we een variabele <code>cum laude</code> berekenen, die gelijk is aan 1 wanneer de <code>gpa</code> 3,3 of hoger is <strong><em>en</em></strong> het aantal studie-uren meer dan 30 bedraagt, en anders gelijk is aan 0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>gpa_study_hours <span class="ot">&lt;-</span> gpa_study_hours <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cum_laude =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">3.3</span> <span class="sc">&amp;</span> study_hours <span class="sc">&gt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&gt;=</span> <span class="fl">3.3</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    gpa <span class="sc">&lt;</span> <span class="fl">3.3</span> <span class="sc">~</span> <span class="dv">0</span>))</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<dl>
<dt><code>mutate(cum_laude = case_when(</code></dt>
<dd>
<p>Hier creëren we een nieuwe variabele genaamd <code>cum_laude</code> met behulp van <code>mutate()</code>.</p>
</dd>
<dt><code>gpa &gt;= 3.3 &amp; study_hours &gt; 30 ~ 1,</code></dt>
<dd>
<p>Onze eerste voorwaarde is dat <code>gpa</code> 3.3 of hoger moet zijn <strong><em>en</em></strong> dat <code>study_hours</code> groter dan 30 moet zijn. Als aan deze voorwaarde is voldaan, zal <code>cum_laude</code> gelijk zijn aan 1.</p>
</dd>
<dt><code>gpa &gt;= 3.3 ~ 0, gpa &lt; 3.3 ~ 0))</code></dt>
<dd>
<p>We moeten ook de alternatieven specificeren. Ten eerste, als niet aan de vorige conditie is voldaan, maar <code>gpa</code> is hoger dan 3.3, wijs dan een 0 toe. Daarnaast, als niet aan de vorige conditie is voldaan, maar <code>gpa</code> is lager dan 3.3, wijs dan een 0 toe aan de nieuwe variabele <code>cum_laude</code>.</p>
</dd>
</dl>
<p>Door de eerste 10 rijen te printen en te inspecteren, kunnen we nagaan of de hercodering heeft gewerkt zoals bedoeld:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>gpa_study_hours</span></code><button title="Kopieer naar klembord" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 193 × 5
     gpa study_hours gpa_grade gpa_num cum_laude
   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1  4             10 A               1         0
 2  3.8           25 A               1         0
 3  3.93          45 A               1         1
 4  3.4           10 B               2         0
 5  3.2            4 B               2         0
 6  3.52          10 B               2         0
 7  3.68          24 B               2         0
 8  3.4           40 B               2         1
 9  3.7           10 A               1         0
10  3.75          10 A               1         0
# ℹ 183 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Waarschuwing
</div>
</div>
<div class="callout-body-container callout-body">
<p>Als je met je eigen (bestaande) datasets werkt, kijk dan goed naar de ‘bestaande’ variabelen, d.w.z. de variabelen die je wilt hercoderen. Zorg ervoor dat je alle alternatieven correct specificeert, vooral als je gegevens missende waarden (<code>NA</code>) hebben op één (of meerdere) variabelen. Na hercodering raden wij je aan de uitkomstvariabele zorgvuldig te inspecteren om te zien of de uitkomst precies is zoals je hem bedoeld had. Dat kan bijvoorbeeld door een kruistabel te maken van de oude en nieuwe variabele.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./data_04_missing_data.html" class="pagination-link  aria-label=" &lt;span="" gegevens&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Ontbrekende gegevens</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data_06_merging_data.html" class="pagination-link" aria-label="<span class='chapter-number'>6</span>&nbsp; <span class='chapter-title'>Data combineren</span>">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data combineren</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>